{
  "$schema": "https://ui.shadcn.com/schema/registry.json",
  "name": "athrean",
  "homepage": "https://athrean.com",
  "items": [
    {
      "name": "ai-01",
      "type": "registry:block",
      "title": "AI Chat with Voice Input",
      "description": "Modern AI chat interface with voice input, file attachments, and expandable textarea",
      "author": "athrean <https://athrean.com>",
      "registryDependencies": [
        "button",
        "dropdown-menu",
        "textarea"
      ],
      "dependencies": [
        "lucide-react"
      ],
      "files": [
        {
          "path": "content/components/ai/ai-01.tsx",
          "content": "\"use client\";\n\nimport type React from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  Mic,\n  Paperclip,\n  Plus,\n  Search,\n  Send,\n  Sparkles,\n  AudioWaveform,\n} from \"lucide-react\";\nimport { useRef, useState } from \"react\";\n\nexport default function Ai01() {\n  const [message, setMessage] = useState(\"\");\n  const [isExpanded, setIsExpanded] = useState(false);\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (message.trim()) {\n      setMessage(\"\");\n      setIsExpanded(false);\n\n      if (textareaRef.current) {\n        textareaRef.current.style.height = \"auto\";\n      }\n    }\n  };\n\n  const handleTextareaChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setMessage(e.target.value);\n\n    if (textareaRef.current) {\n      textareaRef.current.style.height = \"auto\";\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n    }\n\n    setIsExpanded(e.target.value.length > 100 || e.target.value.includes(\"\\n\"));\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e as unknown as React.FormEvent);\n    }\n  };\n\n  return (\n    <div className=\"w-full\">\n      <h1 className=\"mb-7 mx-auto max-w-2xl text-center text-2xl font-semibold leading-9 text-foreground px-1 text-pretty whitespace-pre-wrap\">\n        How can I help you today?\n      </h1>\n\n      <form onSubmit={handleSubmit} className=\"group/composer w-full\">\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          multiple\n          className=\"sr-only\"\n          onChange={() => {}}\n        />\n\n        <div\n          className={cn(\n            \"w-full max-w-2xl mx-auto bg-transparent dark:bg-muted/50 cursor-text overflow-clip bg-clip-padding p-2.5 shadow-lg border border-border transition-all duration-200\",\n            {\n              \"rounded-3xl grid grid-cols-1 grid-rows-[auto_1fr_auto]\":\n                isExpanded,\n              \"rounded-[28px] grid grid-cols-[auto_1fr_auto] grid-rows-[auto_1fr_auto]\":\n                !isExpanded,\n            }\n          )}\n          style={{\n            gridTemplateAreas: isExpanded\n              ? \"'header' 'primary' 'footer'\"\n              : \"'header header header' 'leading primary trailing' '. footer .'\",\n          }}\n        >\n          <div\n            className={cn(\n              \"flex min-h-14 items-center overflow-x-hidden px-1.5\",\n              {\n                \"px-2 py-1 mb-0\": isExpanded,\n                \"-my-2.5\": !isExpanded,\n              }\n            )}\n            style={{ gridArea: \"primary\" }}\n          >\n            <div className=\"flex-1 overflow-auto max-h-52\">\n              <Textarea\n                ref={textareaRef}\n                value={message}\n                onChange={handleTextareaChange}\n                onKeyDown={handleKeyDown}\n                placeholder=\"Ask anything\"\n                className=\"min-h-0 resize-none rounded-none border-0 p-0 text-base placeholder:text-muted-foreground focus-visible:ring-0 focus-visible:ring-offset-0 scrollbar-thin dark:bg-transparent\"\n                rows={1}\n              />\n            </div>\n          </div>\n\n          <div\n            className={cn(\"flex\", { hidden: isExpanded })}\n            style={{ gridArea: \"leading\" }}\n          >\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-9 w-9 rounded-full hover:bg-accent outline-none ring-0\"\n                >\n                  <Plus className=\"size-6 text-muted-foreground\" />\n                </Button>\n              </DropdownMenuTrigger>\n\n              <DropdownMenuContent\n                align=\"start\"\n                className=\"max-w-xs rounded-2xl p-1.5\"\n              >\n                <DropdownMenuGroup className=\"space-y-1\">\n                  <DropdownMenuItem\n                    className=\"rounded-[calc(1rem-6px)]\"\n                    onClick={() => fileInputRef.current?.click()}\n                  >\n                    <Paperclip size={20} className=\"opacity-60\" />\n                    Add photos & files\n                  </DropdownMenuItem>\n                  <DropdownMenuItem\n                    className=\"rounded-[calc(1rem-6px)]\"\n                    onClick={() => {}}\n                  >\n                    <div className=\"flex items-center gap-2\">\n                      <Sparkles size={20} className=\"opacity-60\" />\n                      Agent mode\n                    </div>\n                  </DropdownMenuItem>\n                  <DropdownMenuItem\n                    className=\"rounded-[calc(1rem-6px)]\"\n                    onClick={() => {}}\n                  >\n                    <Search size={20} className=\"opacity-60\" />\n                    Deep Research\n                  </DropdownMenuItem>\n                </DropdownMenuGroup>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          </div>\n\n          <div\n            className=\"flex items-center gap-2\"\n            style={{ gridArea: isExpanded ? \"footer\" : \"trailing\" }}\n          >\n            <div className=\"ms-auto flex items-center gap-1.5\">\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                size=\"icon\"\n                className=\"h-9 w-9 rounded-full hover:bg-accent\"\n              >\n                <Mic className=\"size-5 text-muted-foreground\" />\n              </Button>\n\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                size=\"icon\"\n                className=\"h-9 w-9 rounded-full hover:bg-accent relative\"\n              >\n                <AudioWaveform className=\"size-5 text-muted-foreground\" />\n              </Button>\n\n              {message.trim() && (\n                <Button\n                  type=\"submit\"\n                  size=\"icon\"\n                  className=\"h-9 w-9 rounded-full\"\n                >\n                  <Send className=\"size-5\" />\n                </Button>\n              )}\n            </div>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n",
          "type": "registry:block",
          "target": "components/legos/ai-01.tsx"
        }
      ],
      "categories": [
        "ai"
      ]
    },
    {
      "name": "ai-02",
      "type": "registry:block",
      "title": "AI Chat with Model Selection",
      "description": "AI chat interface with model selector, prompt suggestions, and image attachments",
      "author": "athrean <https://athrean.com>",
      "registryDependencies": [
        "button",
        "select",
        "textarea"
      ],
      "dependencies": [
        "lucide-react"
      ],
      "files": [
        {
          "path": "content/components/ai/ai-02.tsx",
          "content": "\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  AlertTriangle,\n  ArrowUp,\n  Cloud,\n  FileText,\n  Gauge,\n  ScanEye,\n} from \"lucide-react\";\nimport { useRef, useState } from \"react\";\n\nconst PROMPTS = [\n  {\n    icon: FileText,\n    text: \"Write documentation\",\n    prompt:\n      \"Write comprehensive documentation for this codebase, including setup instructions, API references, and usage examples.\",\n  },\n  {\n    icon: Gauge,\n    text: \"Optimize performance\",\n    prompt:\n      \"Analyze the codebase for performance bottlenecks and suggest optimizations to improve loading times and runtime efficiency.\",\n  },\n  {\n    icon: AlertTriangle,\n    text: \"Find and fix 3 bugs\",\n    prompt:\n      \"Scan through the codebase to identify and fix 3 critical bugs, providing detailed explanations for each fix.\",\n  },\n];\n\nconst MODELS = [\n  {\n    value: \"gpt-4o\",\n    name: \"GPT-4o\",\n    description: \"Most advanced model\",\n    max: true,\n  },\n  {\n    value: \"gpt-4o-mini\",\n    name: \"GPT-4o Mini\",\n    description: \"Fast and capable\",\n  },\n  {\n    value: \"claude-3.5-sonnet\",\n    name: \"Claude 3.5 Sonnet\",\n    description: \"Great for coding tasks\",\n  },\n  {\n    value: \"gemini-pro\",\n    name: \"Gemini Pro\",\n    description: \"Reliable and accurate\",\n  },\n];\n\nexport default function Ai02() {\n  const [inputValue, setInputValue] = useState(\"\");\n  const [selectedModel, setSelectedModel] = useState(MODELS[0]!);\n  const inputRef = useRef<HTMLTextAreaElement>(null);\n\n  const handlePromptClick = (prompt: string) => {\n    if (inputRef.current) {\n      inputRef.current.value = prompt;\n      setInputValue(prompt);\n      inputRef.current.focus();\n    }\n  };\n\n  const handleModelChange = (value: string) => {\n    const model = MODELS.find((m) => m.value === value);\n    if (model) {\n      setSelectedModel(model);\n    }\n  };\n\n  const renderMaxBadge = () => (\n    <div className=\"flex h-[14px] items-center gap-1.5 rounded border border-border px-1 py-0\">\n      <span\n        className=\"text-[9px] font-bold uppercase\"\n        style={{\n          background:\n            \"linear-gradient(to right, rgb(129, 161, 193), rgb(125, 124, 155))\",\n          WebkitBackgroundClip: \"text\",\n          WebkitTextFillColor: \"transparent\",\n        }}\n      >\n        MAX\n      </span>\n    </div>\n  );\n\n  return (\n    <div className=\"flex flex-col gap-4 w-[calc(42rem-5rem)]\">\n      <div className=\"flex min-h-[120px] flex-col rounded-2xl cursor-text bg-card border border-border shadow-lg\">\n        <div className=\"flex-1 relative overflow-y-auto max-h-[258px]\">\n          <Textarea\n            ref={inputRef}\n            value={inputValue}\n            onChange={(e) => setInputValue(e.target.value)}\n            placeholder=\"Ask anything\"\n            className=\"w-full border-0 p-3 transition-[padding] duration-200 ease-in-out min-h-[48.4px] outline-none text-[16px] text-foreground resize-none shadow-none focus-visible:ring-0 focus-visible:ring-offset-0 bg-transparent! whitespace-pre-wrap break-words\"\n          />\n        </div>\n\n        <div className=\"flex min-h-[40px] items-center gap-2 p-2 pb-1\">\n          <div className=\"flex aspect-1 items-center gap-1 rounded-full bg-muted p-1.5 text-xs\">\n            <Cloud className=\"h-4 w-4 text-muted-foreground\" />\n          </div>\n\n          <div className=\"relative flex items-center\">\n            <Select\n              value={selectedModel.value}\n              onValueChange={handleModelChange}\n            >\n              <SelectTrigger className=\"w-fit border-none bg-transparent! p-0 text-sm text-muted-foreground hover:text-foreground focus:ring-0 shadow-none\">\n                <SelectValue>\n                  {selectedModel.max ? (\n                    <div className=\"flex items-center gap-1\">\n                      <span>{selectedModel.name}</span>\n                      {renderMaxBadge()}\n                    </div>\n                  ) : (\n                    <span>{selectedModel.name}</span>\n                  )}\n                </SelectValue>\n              </SelectTrigger>\n              <SelectContent>\n                {MODELS.map((model) => (\n                  <SelectItem key={model.value} value={model.value}>\n                    {model.max ? (\n                      <div className=\"flex items-center gap-1\">\n                        <span>{model.name}</span>\n                        {renderMaxBadge()}\n                      </div>\n                    ) : (\n                      <span>{model.name}</span>\n                    )}\n                    <span className=\"text-muted-foreground block text-xs\">\n                      {model.description}\n                    </span>\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n\n          <div className=\"ml-auto flex items-center gap-3\">\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"h-6 w-6 text-muted-foreground hover:text-foreground transition-all duration-100\"\n              title=\"Attach images\"\n            >\n              <ScanEye className=\"h-5 w-5\" />\n            </Button>\n\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className={cn(\n                \"h-6 w-6 rounded-full transition-all duration-100 cursor-pointer bg-primary\",\n                inputValue && \"bg-primary hover:bg-primary/90!\"\n              )}\n              disabled={!inputValue}\n            >\n              <ArrowUp className=\"h-4 w-4 text-primary-foreground\" />\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex flex-wrap justify-center gap-2\">\n        {PROMPTS.map((button) => {\n          const IconComponent = button.icon;\n          return (\n            <Button\n              key={button.text}\n              variant=\"ghost\"\n              className=\"group flex items-center gap-2 rounded-full border px-3 py-2 text-sm text-foreground transition-all duration-200 hover:bg-muted/30 h-auto bg-transparent dark:bg-muted\"\n              onClick={() => handlePromptClick(button.prompt)}\n            >\n              <IconComponent className=\"h-4 w-4 text-muted-foreground transition-colors group-hover:text-foreground\" />\n              <span>{button.text}</span>\n            </Button>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n",
          "type": "registry:block",
          "target": "components/legos/ai-02.tsx"
        }
      ],
      "categories": [
        "ai"
      ]
    },
    {
      "name": "ai-03",
      "type": "registry:block",
      "title": "AI Chat Compact Interface",
      "description": "Compact AI chat with model, agent, and performance mode selectors",
      "author": "athrean <https://athrean.com>",
      "registryDependencies": [
        "button",
        "dropdown-menu",
        "textarea"
      ],
      "dependencies": [
        "lucide-react"
      ],
      "files": [
        {
          "path": "content/components/ai/ai-03.tsx",
          "content": "\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  Zap,\n  ChevronDown,\n  Circle,\n  CircleDashed,\n  Cloud,\n  Code,\n  Laptop,\n  History,\n  Paperclip,\n  Plus,\n  CircleDot,\n  Bot,\n  Send,\n  User,\n  Wand2,\n  Globe,\n} from \"lucide-react\";\nimport { useRef, useState } from \"react\";\n\nexport default function Ai03() {\n  const [input, setInput] = useState(\"\");\n  const [selectedModel, setSelectedModel] = useState(\"Local\");\n  const [selectedAgent, setSelectedAgent] = useState(\"Agent\");\n  const [selectedPerformance, setSelectedPerformance] = useState(\"High\");\n  const [autoMode, setAutoMode] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (input.trim()) {\n      // Handle submission\n    }\n  };\n\n  return (\n    <div className=\"w-xl\">\n      <div className=\"bg-background border border-border rounded-2xl overflow-hidden\">\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          multiple\n          className=\"sr-only\"\n          onChange={() => {}}\n        />\n\n        <div className=\"px-3 pt-3 pb-2 grow\">\n          <form onSubmit={handleSubmit}>\n            <Textarea\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              placeholder=\"Ask anything\"\n              className=\"w-full bg-transparent! p-0 border-0 shadow-none focus-visible:ring-0 focus-visible:ring-offset-0 text-foreground placeholder-muted-foreground resize-none border-none outline-none text-sm min-h-10 max-h-[25vh]\"\n              rows={1}\n              onInput={(e) => {\n                const target = e.target as HTMLTextAreaElement;\n                target.style.height = \"auto\";\n                target.style.height = target.scrollHeight + \"px\";\n              }}\n            />\n          </form>\n        </div>\n\n        <div className=\"mb-2 px-2 flex items-center justify-between\">\n          <div className=\"flex items-center gap-1\">\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"h-7 w-7 p-0 rounded-full border border-border hover:bg-accent\"\n                >\n                  <Plus className=\"size-3\" />\n                </Button>\n              </DropdownMenuTrigger>\n\n              <DropdownMenuContent\n                align=\"start\"\n                className=\"max-w-xs rounded-2xl p-1.5\"\n              >\n                <DropdownMenuGroup className=\"space-y-1\">\n                  <DropdownMenuItem\n                    className=\"rounded-[calc(1rem-6px)] text-xs\"\n                    onClick={() => fileInputRef.current?.click()}\n                  >\n                    <Paperclip size={16} className=\"opacity-60\" />\n                    Attach Files\n                  </DropdownMenuItem>\n                  <DropdownMenuItem\n                    className=\"rounded-[calc(1rem-6px)] text-xs\"\n                    onClick={() => {}}\n                  >\n                    <Code size={16} className=\"opacity-60\" />\n                    Code Interpreter\n                  </DropdownMenuItem>\n                  <DropdownMenuItem\n                    className=\"rounded-[calc(1rem-6px)] text-xs\"\n                    onClick={() => {}}\n                  >\n                    <Globe size={16} className=\"opacity-60\" />\n                    Web Search\n                  </DropdownMenuItem>\n                  <DropdownMenuItem\n                    className=\"rounded-[calc(1rem-6px)] text-xs\"\n                    onClick={() => {}}\n                  >\n                    <History size={16} className=\"opacity-60\" />\n                    Chat History\n                  </DropdownMenuItem>\n                </DropdownMenuGroup>\n              </DropdownMenuContent>\n            </DropdownMenu>\n\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => setAutoMode(!autoMode)}\n              className={cn(\n                \"h-7 px-2 rounded-full border border-border hover:bg-accent \",\n                {\n                  \"bg-primary/10 text-primary border-primary/30\": autoMode,\n                  \"text-muted-foreground\": !autoMode,\n                }\n              )}\n            >\n              <Wand2 className=\"size-3\" />\n              <span className=\"text-xs\">Auto</span>\n            </Button>\n          </div>\n\n          <div>\n            <Button\n              type=\"submit\"\n              disabled={!input.trim()}\n              className=\"size-7 p-0 rounded-full bg-primary disabled:opacity-50 disabled:cursor-not-allowed\"\n              onClick={handleSubmit}\n            >\n              <Send className=\"size-3 fill-primary\" />\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex items-center gap-0 pt-2\">\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"h-6 px-2 rounded-full border border-transparent hover:bg-accent text-muted-foreground text-xs\"\n            >\n              <Laptop className=\"size-3\" />\n              <span>{selectedModel}</span>\n              <ChevronDown className=\"size-3\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent\n            align=\"start\"\n            className=\"max-w-xs rounded-2xl p-1.5 bg-popover border-border\"\n          >\n            <DropdownMenuGroup className=\"space-y-1\">\n              <DropdownMenuItem\n                className=\"rounded-[calc(1rem-6px)] text-xs\"\n                onClick={() => setSelectedModel(\"Local\")}\n              >\n                <Laptop size={16} className=\"opacity-60\" />\n                Local\n              </DropdownMenuItem>\n              <DropdownMenuItem\n                className=\"rounded-[calc(1rem-6px)] text-xs\"\n                onClick={() => setSelectedModel(\"Cloud\")}\n              >\n                <Cloud size={16} className=\"opacity-60\" />\n                Cloud\n              </DropdownMenuItem>\n            </DropdownMenuGroup>\n          </DropdownMenuContent>\n        </DropdownMenu>\n\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"h-6 px-2 rounded-full border border-transparent hover:bg-accent text-muted-foreground text-xs\"\n            >\n              <User className=\"size-3\" />\n              <span>{selectedAgent}</span>\n              <ChevronDown className=\"size-3\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent\n            align=\"start\"\n            className=\"max-w-xs rounded-2xl p-1.5 bg-popover border-border\"\n          >\n            <DropdownMenuGroup className=\"space-y-1\">\n              <DropdownMenuItem\n                className=\"rounded-[calc(1rem-6px)] text-xs\"\n                onClick={() => setSelectedAgent(\"Agent\")}\n              >\n                <User size={16} className=\"opacity-60\" />\n                Agent\n              </DropdownMenuItem>\n              <DropdownMenuItem\n                className=\"rounded-[calc(1rem-6px)] text-xs\"\n                onClick={() => setSelectedAgent(\"Assistant\")}\n              >\n                <Bot size={16} className=\"opacity-60\" />\n                Assistant\n              </DropdownMenuItem>\n            </DropdownMenuGroup>\n          </DropdownMenuContent>\n        </DropdownMenu>\n\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"h-6 px-2 rounded-full border border-transparent hover:bg-accent text-muted-foreground text-xs\"\n            >\n              <Zap className=\"size-3\" />\n              <span>{selectedPerformance}</span>\n              <ChevronDown className=\"size-3\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent\n            align=\"start\"\n            className=\"max-w-xs rounded-2xl p-1.5 bg-popover border-border\"\n          >\n            <DropdownMenuGroup className=\"space-y-1\">\n              <DropdownMenuItem\n                className=\"rounded-[calc(1rem-6px)] text-xs\"\n                onClick={() => setSelectedPerformance(\"High\")}\n              >\n                <Circle size={16} className=\"opacity-60\" />\n                High\n              </DropdownMenuItem>\n              <DropdownMenuItem\n                className=\"rounded-[calc(1rem-6px)] text-xs\"\n                onClick={() => setSelectedPerformance(\"Medium\")}\n              >\n                <CircleDot size={16} className=\"opacity-60\" />\n                Medium\n              </DropdownMenuItem>\n              <DropdownMenuItem\n                className=\"rounded-[calc(1rem-6px)] text-xs\"\n                onClick={() => setSelectedPerformance(\"Low\")}\n              >\n                <CircleDashed size={16} className=\"opacity-60\" />\n                Low\n              </DropdownMenuItem>\n            </DropdownMenuGroup>\n          </DropdownMenuContent>\n        </DropdownMenu>\n\n        <div className=\"flex-1\" />\n      </div>\n    </div>\n  );\n}\n",
          "type": "registry:block",
          "target": "components/legos/ai-03.tsx"
        }
      ],
      "categories": [
        "ai"
      ]
    },
    {
      "name": "ai-04",
      "type": "registry:block",
      "title": "AI Chat with File Attachments",
      "description": "Full-featured AI chat with drag & drop file attachments, settings, and action buttons",
      "author": "athrean <https://athrean.com>",
      "registryDependencies": [
        "badge",
        "button",
        "dropdown-menu",
        "label",
        "switch",
        "textarea"
      ],
      "dependencies": [
        "lucide-react",
        "next"
      ],
      "files": [
        {
          "path": "content/components/ai/ai-04.tsx",
          "content": "\"use client\";\n\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  SlidersHorizontal,\n  ArrowUp,\n  Figma,\n  Camera,\n  CirclePlus,\n  Clipboard,\n  Upload,\n  History,\n  LayoutDashboard,\n  Link,\n  Paperclip,\n  Play,\n  Plus,\n  Sparkles,\n  LayoutTemplate,\n  X,\n} from \"lucide-react\";\nimport Image from \"next/image\";\nimport { useRef, useState } from \"react\";\n\ninterface AttachedFile {\n  id: string;\n  name: string;\n  file: File;\n  preview?: string;\n}\n\nconst ACTIONS = [\n  { id: \"clone-screenshot\", icon: Camera, label: \"Clone a Screenshot\" },\n  { id: \"import-figma\", icon: Figma, label: \"Import from Figma\" },\n  { id: \"upload-project\", icon: Upload, label: \"Upload a Project\" },\n  { id: \"landing-page\", icon: LayoutDashboard, label: \"Landing Page\" },\n];\n\nexport default function Ai04({\n  onSubmit,\n}: {\n  onSubmit?: (prompt: string) => void;\n}) {\n  const [prompt, setPrompt] = useState(\"\");\n  const [isDragOver, setIsDragOver] = useState(false);\n  const [attachedFiles, setAttachedFiles] = useState<AttachedFile[]>([]);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const [settings, setSettings] = useState({\n    autoComplete: true,\n    streaming: false,\n    showHistory: false,\n  });\n\n  const generateFileId = () => Math.random().toString(36).substring(7);\n  const processFiles = (files: File[]) => {\n    for (const file of files) {\n      const fileId = generateFileId();\n      const attachedFile: AttachedFile = {\n        id: fileId,\n        name: file.name,\n        file,\n      };\n\n      if (file.type.startsWith(\"image/\")) {\n        const reader = new FileReader();\n        reader.onload = () => {\n          setAttachedFiles((prev) =>\n            prev.map((f) =>\n              f.id === fileId ? { ...f, preview: reader.result as string } : f\n            )\n          );\n        };\n        reader.readAsDataURL(file);\n      }\n\n      setAttachedFiles((prev) => [...prev, attachedFile]);\n    }\n  };\n  const submitPrompt = () => {\n    if (prompt.trim() && onSubmit) {\n      onSubmit(prompt.trim());\n      setPrompt(\"\");\n    }\n  };\n  const updateSetting = (key: keyof typeof settings, value: boolean) => {\n    setSettings((prev) => ({ ...prev, [key]: value }));\n  };\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    submitPrompt();\n  };\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(true);\n  };\n  const handleDragLeave = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(false);\n  };\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(false);\n\n    const files = Array.from(e.dataTransfer.files);\n    if (files.length > 0) {\n      processFiles(files);\n    }\n  };\n  const handleTextareaChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setPrompt(e.target.value);\n  };\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      submitPrompt();\n    }\n  };\n\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = Array.from(e.target.files || []);\n    processFiles(files);\n\n    if (fileInputRef.current) {\n      fileInputRef.current.value = \"\";\n    }\n  };\n\n  const handleRemoveFile = (fileId: string) => {\n    setAttachedFiles((prev) => prev.filter((file) => file.id !== fileId));\n  };\n\n  return (\n    <div className=\"mx-auto flex w-full flex-col gap-4\">\n      <h1 className=\"text-pretty text-center font-semibold text-[29px] text-foreground tracking-tighter sm:text-[32px] md:text-[46px]\">\n        Prompt. Refine. Ship.\n      </h1>\n      <h2 className=\"-my-5 pb-4 text-center text-xl text-muted-foreground\">\n        Build real, working software just by describing it\n      </h2>\n\n      <div className=\"relative z-10 flex flex-col w-full mx-auto max-w-2xl content-center\">\n        <form\n          className=\"overflow-visible rounded-xl border p-2 transition-colors duration-200 focus-within:border-ring\"\n          onDragLeave={handleDragLeave}\n          onDragOver={handleDragOver}\n          onDrop={handleDrop}\n          onSubmit={handleSubmit}\n        >\n          {attachedFiles.length > 0 && (\n            <div className=\"relative flex w-fit items-center gap-2 mb-2 overflow-hidden\">\n              {attachedFiles.map((file) => (\n                <Badge\n                  variant=\"outline\"\n                  className=\"group relative h-6 max-w-30 cursor-pointer overflow-hidden text-[13px] transition-colors hover:bg-accent px-0\"\n                  key={file.id}\n                >\n                  <span className=\"flex h-full items-center gap-1.5 overflow-hidden pl-1 font-normal\">\n                    <div className=\"relative flex h-4 min-w-4 items-center justify-center\">\n                      {file.preview ? (\n                        <Image\n                          alt={file.name}\n                          className=\"absolute inset-0 h-4 w-4 rounded border object-cover\"\n                          src={file.preview}\n                          width={16}\n                          height={16}\n                        />\n                      ) : (\n                        <Paperclip className=\"opacity-60\" size={12} />\n                      )}\n                    </div>\n                    <span className=\"inline overflow-hidden truncate pr-1.5 transition-all\">\n                      {file.name}\n                    </span>\n                  </span>\n                  <button\n                    className=\"absolute right-1 z-10 rounded-sm p-0.5 text-muted-foreground opacity-0 focus-visible:bg-accent focus-visible:opacity-100 focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-background group-hover:opacity-100\"\n                    onClick={() => handleRemoveFile(file.id)}\n                    type=\"button\"\n                  >\n                    <X size={12} />\n                  </button>\n                </Badge>\n              ))}\n            </div>\n          )}\n          <Textarea\n            className=\"max-h-50 min-h-12 resize-none rounded-none border-none bg-transparent! p-0 text-sm shadow-none focus-visible:border-transparent focus-visible:ring-0\"\n            onChange={handleTextareaChange}\n            onKeyDown={handleKeyDown}\n            placeholder=\"Ask anything\"\n            value={prompt}\n          />\n\n          <div className=\"flex items-center gap-1\">\n            <div className=\"flex items-end gap-0.5 sm:gap-1\">\n              <input\n                className=\"sr-only\"\n                multiple\n                onChange={handleFileSelect}\n                ref={fileInputRef}\n                type=\"file\"\n              />\n\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button\n                    className=\"ml-[-2px] h-7 w-7 rounded-md\"\n                    size=\"icon\"\n                    type=\"button\"\n                    variant=\"ghost\"\n                  >\n                    <Plus size={16} />\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent\n                  align=\"start\"\n                  className=\"max-w-xs rounded-2xl p-1.5\"\n                >\n                  <DropdownMenuGroup className=\"space-y-1\">\n                    <DropdownMenuItem\n                      className=\"rounded-[calc(1rem-6px)] text-xs\"\n                      onClick={() => fileInputRef.current?.click()}\n                    >\n                      <div className=\"flex items-center gap-2\">\n                        <Paperclip className=\"text-muted-foreground\" size={16} />\n                        <span>Attach Files</span>\n                      </div>\n                    </DropdownMenuItem>\n                    <DropdownMenuItem className=\"rounded-[calc(1rem-6px)] text-xs\">\n                      <div className=\"flex items-center gap-2\">\n                        <Link className=\"text-muted-foreground\" size={16} />\n                        <span>Import from URL</span>\n                      </div>\n                    </DropdownMenuItem>\n                    <DropdownMenuItem className=\"rounded-[calc(1rem-6px)] text-xs\">\n                      <div className=\"flex items-center gap-2\">\n                        <Clipboard className=\"text-muted-foreground\" size={16} />\n                        <span>Paste from Clipboard</span>\n                      </div>\n                    </DropdownMenuItem>\n                    <DropdownMenuItem className=\"rounded-[calc(1rem-6px)] text-xs\">\n                      <div className=\"flex items-center gap-2\">\n                        <LayoutTemplate className=\"text-muted-foreground\" size={16} />\n                        <span>Use Template</span>\n                      </div>\n                    </DropdownMenuItem>\n                  </DropdownMenuGroup>\n                </DropdownMenuContent>\n              </DropdownMenu>\n\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button\n                    className=\"size-7 rounded-md\"\n                    size=\"icon\"\n                    type=\"button\"\n                    variant=\"ghost\"\n                  >\n                    <SlidersHorizontal size={16} />\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent\n                  align=\"start\"\n                  className=\"w-48 rounded-2xl p-3\"\n                >\n                  <DropdownMenuGroup className=\"space-y-3\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-2\">\n                        <Sparkles className=\"text-muted-foreground\" size={16} />\n                        <Label className=\"text-xs\">Auto-complete</Label>\n                      </div>\n                      <Switch\n                        checked={settings.autoComplete}\n                        className=\"scale-75\"\n                        onCheckedChange={(value) =>\n                          updateSetting(\"autoComplete\", value)\n                        }\n                      />\n                    </div>\n\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-2\">\n                        <Play className=\"text-muted-foreground\" size={16} />\n                        <Label className=\"text-xs\">Streaming</Label>\n                      </div>\n                      <Switch\n                        checked={settings.streaming}\n                        className=\"scale-75\"\n                        onCheckedChange={(value) =>\n                          updateSetting(\"streaming\", value)\n                        }\n                      />\n                    </div>\n\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-2\">\n                        <History className=\"text-muted-foreground\" size={16} />\n                        <Label className=\"text-xs\">Show History</Label>\n                      </div>\n                      <Switch\n                        checked={settings.showHistory}\n                        className=\"scale-75\"\n                        onCheckedChange={(value) =>\n                          updateSetting(\"showHistory\", value)\n                        }\n                      />\n                    </div>\n                  </DropdownMenuGroup>\n                </DropdownMenuContent>\n              </DropdownMenu>\n            </div>\n\n            <div className=\"ml-auto flex items-center gap-0.5 sm:gap-1\">\n              <Button\n                className=\"h-7 w-7 rounded-md\"\n                disabled={!prompt.trim()}\n                size=\"icon\"\n                type=\"submit\"\n                variant=\"default\"\n              >\n                <ArrowUp size={16} />\n              </Button>\n            </div>\n          </div>\n\n          <div\n            className={cn(\n              \"absolute inset-0 flex items-center justify-center pointer-events-none z-20 rounded-[inherit] border border-border border-dashed bg-muted text-foreground text-sm transition-opacity duration-200\",\n              isDragOver ? \"opacity-100\" : \"opacity-0\"\n            )}\n          >\n            <span className=\"flex w-full items-center justify-center gap-1 font-medium\">\n              <CirclePlus className=\"min-w-4\" size={16} />\n              Drop files here to add as attachments\n            </span>\n          </div>\n        </form>\n      </div>\n\n      <div className=\"max-w-250 mx-auto flex-wrap gap-3 flex min-h-0 shrink-0 items-center justify-center\">\n        {ACTIONS.map((action) => (\n          <Button\n            className=\"gap-2 rounded-full\"\n            key={action.id}\n            size=\"sm\"\n            variant=\"outline\"\n          >\n            <action.icon size={16} />\n            {action.label}\n          </Button>\n        ))}\n      </div>\n    </div>\n  );\n}\n",
          "type": "registry:block",
          "target": "components/legos/ai-04.tsx"
        }
      ],
      "categories": [
        "ai"
      ]
    }
  ]
}