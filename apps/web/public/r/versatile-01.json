{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "versatile-01",
  "type": "registry:block",
  "title": "Animated Testimonials",
  "description": "Stacked image testimonials with autoplay, smooth animations, and navigation controls",
  "author": "athrean <https://athrean.com>",
  "registryDependencies": [],
  "dependencies": [
    "framer-motion",
    "lucide-react"
  ],
  "files": [
    {
      "path": "content/components/versatile/versatile-01.tsx",
      "content": "\"use client\";\n\nimport { useEffect, useState, useRef } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { ChevronUp, ChevronDown, Play, Pause } from \"lucide-react\";\n\ntype Testimonial = {\n  id: number;\n  quote: string;\n  name: string;\n  designation: string;\n  src: string;\n};\n\nconst testimonials: Testimonial[] = [\n  {\n    id: 1,\n    quote:\n      \"The attention to detail and innovative features have completely transformed our workflow. This is exactly what we've been looking for.\",\n    name: \"Sarah Chen\",\n    designation: \"Product Manager at TechFlow\",\n    src: \"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=500&h=500&fit=crop\",\n  },\n  {\n    id: 2,\n    quote:\n      \"Implementation was seamless and the results exceeded our expectations. The platform's flexibility is remarkable.\",\n    name: \"Michael Rodriguez\",\n    designation: \"CTO at InnovateSphere\",\n    src: \"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=500&h=500&fit=crop\",\n  },\n  {\n    id: 3,\n    quote:\n      \"This solution has significantly improved our team's productivity. The intuitive searching design makes complex tasks feel effortless.\",\n    name: \"Emily Watson\",\n    designation: \"Operations Director at CloudScale\",\n    src: \"https://images.unsplash.com/photo-1623582854588-d60de57fa33f?w=500&h=500&fit=crop\",\n  },\n  {\n    id: 4,\n    quote:\n      \"Outstanding support and robust features. It's rare to find a product that delivers on all its promises.\",\n    name: \"James Kim\",\n    designation: \"Engineering Lead at DataPrime\",\n    src: \"https://images.unsplash.com/photo-1636041293178-808a6762ab39?w=500&h=500&fit=crop\",\n  },\n];\n\nfunction cn(...classes: (string | boolean | undefined)[]) {\n  return classes.filter(Boolean).join(\" \");\n}\n\nexport default function Versatile01() {\n  const CARD_OFFSET = 15;\n  const SCALE_FACTOR = 0.07;\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(true);\n  const [progress, setProgress] = useState(0);\n  const duration = 5000;\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\n  const startTimeRef = useRef<number>(Date.now());\n\n  useEffect(() => {\n    if (isPlaying) {\n      startTimeRef.current = Date.now() - (progress / 100) * duration;\n      intervalRef.current = setInterval(() => {\n        const elapsed = Date.now() - startTimeRef.current;\n        const newProgress = (elapsed / duration) * 100;\n\n        if (newProgress >= 100) {\n          setProgress(0);\n          startTimeRef.current = Date.now();\n          setActiveIndex((prev) => (prev + 1) % testimonials.length);\n        } else {\n          setProgress(newProgress);\n        }\n      }, 16);\n    } else if (intervalRef.current) {\n      clearInterval(intervalRef.current);\n    }\n\n    return () => {\n      if (intervalRef.current) clearInterval(intervalRef.current);\n    };\n  }, [isPlaying, progress]);\n\n  const handleNext = () => {\n    setActiveIndex((prev) => (prev + 1) % testimonials.length);\n    setProgress(0);\n    startTimeRef.current = Date.now();\n  };\n\n  const handlePrev = () => {\n    setActiveIndex((prev) => (prev - 1 + testimonials.length) % testimonials.length);\n    setProgress(0);\n    startTimeRef.current = Date.now();\n  };\n\n  const togglePlay = () => {\n    setIsPlaying(!isPlaying);\n  };\n\n  const activeTestimonial = testimonials[activeIndex];\n\n  if (!activeTestimonial) return null;\n\n  return (\n    <div className=\"flex min-h-screen w-full items-center justify-center bg-zinc-950 p-4 font-sans\">\n      <div className=\"mx-auto max-w-4xl\">\n        <div className=\"flex flex-col md:flex-row items-center gap-8 md:gap-16\">\n          {/* Left: Image Stack */}\n          <div className=\"flex items-center gap-6\">\n            {/* Navigation Dots */}\n            <div className=\"flex flex-col gap-3 items-center\">\n              {testimonials.map((_, index) => {\n                const isActive = index === activeIndex;\n                return (\n                  <div\n                    key={index}\n                    className={cn(\n                      \"relative rounded-full transition-all duration-300 bg-zinc-800\",\n                      isActive ? \"w-1.5 h-8\" : \"w-1.5 h-1.5\"\n                    )}\n                  >\n                    {isActive && (\n                      <div\n                        className=\"absolute top-0 left-0 w-full bg-zinc-400 rounded-full\"\n                        style={{ height: `${progress}%` }}\n                      />\n                    )}\n                  </div>\n                );\n              })}\n            </div>\n\n            {/* Stacked Images */}\n            <div className=\"relative h-64 w-64 md:h-80 md:w-80\">\n              {testimonials.map((testimonial, index) => {\n                const relativeIndex =\n                  (index - activeIndex + testimonials.length) % testimonials.length;\n                const isVisible = relativeIndex < 3;\n\n                return (\n                  <motion.div\n                    key={testimonial.id}\n                    className={cn(\n                      \"absolute rounded-3xl overflow-hidden shadow-xl border border-zinc-700/50\",\n                      !isVisible && \"opacity-0 pointer-events-none\"\n                    )}\n                    style={{\n                      width: \"100%\",\n                      height: \"100%\",\n                    }}\n                    initial={false}\n                    animate={{\n                      top: relativeIndex * -CARD_OFFSET,\n                      scale: 1 - relativeIndex * SCALE_FACTOR,\n                      zIndex: testimonials.length - relativeIndex,\n                      opacity: isVisible ? 1 : 0,\n                      filter: `brightness(${1 - relativeIndex * 0.15})`,\n                    }}\n                    transition={{\n                      duration: 0.4,\n                      ease: \"easeOut\",\n                    }}\n                  >\n                    <img\n                      src={testimonial.src}\n                      alt={testimonial.name}\n                      className=\"w-full h-full object-cover\"\n                      draggable={false}\n                    />\n                  </motion.div>\n                );\n              })}\n            </div>\n\n            {/* Controls */}\n            <div className=\"flex flex-col gap-2\">\n              <button\n                onClick={handlePrev}\n                className=\"p-2 rounded-full text-zinc-600 hover:text-zinc-200 hover:bg-zinc-800 transition-colors\"\n              >\n                <ChevronUp className=\"w-4 h-4\" />\n              </button>\n              <button\n                onClick={togglePlay}\n                className=\"p-2 rounded-full text-zinc-600 hover:text-zinc-200 hover:bg-zinc-800 transition-colors\"\n              >\n                {isPlaying ? (\n                  <Pause className=\"w-4 h-4\" />\n                ) : (\n                  <Play className=\"w-4 h-4\" />\n                )}\n              </button>\n              <button\n                onClick={handleNext}\n                className=\"p-2 rounded-full text-zinc-600 hover:text-zinc-200 hover:bg-zinc-800 transition-colors\"\n              >\n                <ChevronDown className=\"w-4 h-4\" />\n              </button>\n            </div>\n          </div>\n\n          {/* Right: Content */}\n          <div className=\"flex-1 max-w-md\">\n            <motion.div\n              key={activeIndex}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n              transition={{ duration: 0.3, ease: \"easeOut\" }}\n              className=\"space-y-6\"\n            >\n              <motion.p className=\"text-lg md:text-xl text-zinc-300 leading-relaxed\">\n                \"{activeTestimonial.quote}\"\n              </motion.p>\n              <div>\n                <p className=\"text-zinc-100 font-semibold text-lg\">\n                  {activeTestimonial.name}\n                </p>\n                <p className=\"text-zinc-500 text-sm\">\n                  {activeTestimonial.designation}\n                </p>\n              </div>\n            </motion.div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:block",
      "target": "components/legos/versatile-01.tsx"
    }
  ],
  "categories": [
    "versatile"
  ]
}